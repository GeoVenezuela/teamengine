<?xml version="1.0" encoding="UTF-8"?>
<ctl:package xmlns="http://www.occamlab.com/ctl" xmlns:ctl="http://www.occamlab.com/ctl" xmlns:parsers="http://www.occamlab.com/te/parsers" xmlns:myparsers="http://www.galdosinc.com/myparsers" xmlns:saxon="http://saxon.sf.net/" xmlns:wfs="http://www.opengis.net/wfs" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.occamlab.com/ctl ../../../../../apps/engine/resources/com/occamlab/te/schemas/ctl.xsd">
	<test xmlns:ccf="http://www.opengis.net/cite/complex" xmlns:cdf="http://www.opengis.net/cite/data" xmlns:cgf="http://www.opengis.net/cite/geometry" xmlns:citef="http://www.opengis.net/cite/functions" xmlns:example="http://www.somehost.com/example" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:wms="http://www.opengis.net/wms" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" name="wfs:test1.1.0-basic-getcapabilities-get-1">
		<param name="VAR_WFS_GET_CAPABILITIES_HTTP_GET_URL"/>
		<assertion>When a wfs:GetCapabilities request is made for a version number that the server supports, the result document must be a wfs:WFS_Capabilities with the version number equal to the version number in the request.</assertion>
		<comment>This test issues a GetCapabilities request using HTTP GET to the WFS server under test. The request will define the version number to be 1.1.0. The response document will be tested to check that the version number returned in the capabilities document is the same as the requested version.</comment>
		<link>wfs1.1.1#.test1.1.0.basic.getcapabilities.get.1</link>
		<code>
			<xsl:variable name="request1">
				<request>
					<url>
						<xsl:value-of select="$VAR_WFS_GET_CAPABILITIES_HTTP_GET_URL"/>
					</url>
					<method>get</method>
					<param name="service">WFS</param>
					<param name="version">1.1.0</param>
					<param name="request">GetCapabilities</param>
					<!--<myparsers:SchematronValidatingParser.WFSCapabilities/>-->
					<!--<myparsers:SchematronValidatingParser>
						<parsers:schemas>
							<parsers:schema type="resource" phase="Default">sch/wfs/1.1.0/WFSCapabilities.sch</parsers:schema>
						</parsers:schemas>
					</myparsers:SchematronValidatingParser>-->
				</request>
			</xsl:variable>
			<xsl:variable name="expression">//wfs:WFS_Capabilities[@version='1.1.0']</xsl:variable>
			<ctl:call-test name="ctl:assert-xpath">
				<ctl:with-param name="expr" select="$expression"/>
				<ctl:with-param name="doc" select="$request1"/>
			</ctl:call-test>
			<!--<ctl:call-test name="ctl:SchematronValidatingParser">
				<ctl:with-param name="doc" select="$request1"/>
				<ctl:with-param name="schematronFile">sch/wfs/1.1.0/WFSCapabilities.sch</ctl:with-param>
				<ctl:with-param name="phase">Default</ctl:with-param>
			</ctl:call-test>-->
		</code>
	</test>
</ctl:package>
